<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DXB Slider Demo</title>
    <style id="dxb-slider-styles">
        .dxb-slider-container {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            width: 350px;
            margin-bottom: 20px;
        }
        .dxb-slider-container label {
            margin-bottom: 10px;
            font-weight: bold;
            font-size: 1.2em;
        }
        .dxb-slider-wrapper {
            display: flex;
            align-items: center;
            width: 100%;
        }
        .dxb-slider-track {
            flex: 1;
        }
        .dxb-slider {
            -webkit-appearance: none;
            width: 270px;
            height: 5px;
            background: transparent;
            outline: none;
        }
        .dxb-slider::-webkit-slider-runnable-track {
            height: 5px;
            background-image: linear-gradient(#0550e6, #0550e6), linear-gradient(#dadfe7, #dadfe7);
            background-size: calc(var(--value-percent) - 10px) 5px, 100% 5px;
            background-repeat: no-repeat;
            background-position: left center;
        }
        .dxb-slider::-moz-range-track {
            height: 5px;
            background-image: linear-gradient(#0550e6, #0550e6), linear-gradient(#dadfe7, #dadfe7);
            background-size: calc(var(--value-percent) - 10px) 5px, 100% 5px;
            background-repeat: no-repeat;
            background-position: left center;
        }
        .dxb-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            background: white;
            cursor: pointer;
            border: none;
            outline: none;
            box-shadow: 0 0.0625rem 0.125rem rgba(16,24,40,.06), 0 0.0625rem 0.1875rem rgba(16,24,40,.1);
            margin-top: -8px;
            border-radius: 0;
        }
        .dxb-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            background: white;
            cursor: pointer;
            border: none;
            outline: none;
            box-shadow: 0 0.0625rem 0.125rem rgba(16,24,40,.06), 0 0.0625rem 0.1875rem rgba(16,24,40,.1);
            margin-top: -8px;
            border-radius: 0;
        }
        .dxb-slider-value {
            width: 60px;
            text-align: center;
            margin-inline-start: 10px;
            border: 1px solid #ddd;
            border-radius: 0;
            height: 24px;
            font-size: 1em;
        }

        /* Arabic numerals */
        [lang="ar"] .dxb-slider-value {
            font-variant-numeric: arabic-indic;
        }

        /* Persian numerals */
        [lang="fa"] .dxb-slider-value {
            font-variant-numeric: persian;
        }

        /* Bengali numerals */
        [lang="bn"] .dxb-slider-value {
            font-variant-numeric: bengali;
        }

        /* Devanagari numerals */
        [lang="hi"], [lang="mr"], [lang="ne"] .dxb-slider-value {
            font-variant-numeric: devanagari;
        }

        /* RTL Support */
        [dir="rtl"] .dxb-slider-wrapper {
            flex-direction: row-reverse;
        }
        [dir="rtl"] .dxb-slider::-webkit-slider-runnable-track {
            background-position: right center;
        }
        [dir="rtl"] .dxb-slider::-moz-range-track {
            background-position: right center;
        }
    </style>
</head>
<body>
    <h1>DXB Slider Demo</h1>

    <h2>LTR (Left-to-Right) Mode</h2>
    <div class="dxb-slider-container">
        <label id="fontSizeLabel" for="fontSize">Font size</label>
        <div class="dxb-slider-wrapper">
            <div class="dxb-slider-track">
                <input type="range" id="fontSize" class="dxb-slider" 
                       min="1" max="100" value="51" step="1" 
                       data-dxb-slider
                       aria-labelledby="fontSizeLabel">
            </div>
        </div>
    </div>

    <div class="dxb-slider-container">
        <label id="dropShadowLabel" for="dropShadow">Drop shadow</label>
        <div class="dxb-slider-wrapper">
            <div class="dxb-slider-track">
                <input type="range" id="dropShadow" class="dxb-slider" 
                       min="1" max="5" value="3" step="1" 
                       data-dxb-slider
                       aria-labelledby="dropShadowLabel">
            </div>
        </div>
    </div>

    <h2>RTL (Right-to-Left) Mode</h2>
    <div class="dxb-slider-container" dir="rtl" lang="ar">
        <label id="fontSizeLabelRTL" for="fontSizeRTL">حجم الخط</label>
        <div class="dxb-slider-wrapper">
            <div class="dxb-slider-track">
                <input type="range" id="fontSizeRTL" class="dxb-slider" 
                       min="1" max="100" value="51" step="1" 
                       data-dxb-slider
                       aria-labelledby="fontSizeLabelRTL">
            </div>
        </div>
    </div>

    <div class="dxb-slider-container" dir="rtl" lang="ar">
        <label id="dropShadowLabelRTL" for="dropShadowRTL">تأثير الظل</label>
        <div class="dxb-slider-wrapper">
            <div class="dxb-slider-track">
                <input type="range" id="dropShadowRTL" class="dxb-slider" 
                       min="1" max="5" value="3" step="1" 
                       data-dxb-slider
                       aria-labelledby="dropShadowLabelRTL">
            </div>
        </div>
    </div>

    <script>
    (function() {
        function initDXBSliders() {
            document.querySelectorAll('[data-dxb-slider]').forEach(rangeInput => {
                const container = rangeInput.closest('.dxb-slider-wrapper');
                
                // Create number input programmatically
                const numberInput = document.createElement('input');
                numberInput.type = 'number';
                numberInput.className = 'dxb-slider-value';
                numberInput.setAttribute('aria-hidden', 'true');
                numberInput.setAttribute('tabindex', '-1');
                container.appendChild(numberInput);
    
                function updateValue() {
                    const val = rangeInput.value;
                    const min = rangeInput.min;
                    const max = rangeInput.max;
                    const percent = (val - min) / (max - min) * 100;
                    rangeInput.style.setProperty('--value-percent', `${percent}%`);
                    numberInput.value = val;
                    numberInput.min = min;
                    numberInput.max = max;
                    rangeInput.setAttribute('aria-valuenow', val);
                }
    
                rangeInput.addEventListener('input', updateValue);
                numberInput.addEventListener('input', () => {
                    rangeInput.value = numberInput.value;
                    updateValue();
                });
    
                // Set initial ARIA attributes
                rangeInput.setAttribute('aria-valuemin', rangeInput.min);
                rangeInput.setAttribute('aria-valuemax', rangeInput.max);
    
                updateValue();
            });
        }
    
        // Initialize sliders when the DOM is fully loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initDXBSliders);
        } else {
            initDXBSliders();
        }
    })();
    </script>
</body>
</html>